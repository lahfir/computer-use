coordination_task:
  description: >
    Analyze the user's request: "{task}"

    Conversation History:
    {conversation_history}

    Determine:
    1. Is this a conversational message or an automation task?
    2. If conversational: Provide a direct, helpful response
    3. If automation: Which agents are needed (browser, gui, system)?
    4. Break down into sub-tasks with clear objectives and expected outputs

    Return your analysis as structured data.
  expected_output: >
    TaskAnalysis with:
    - direct_response (if conversational)
    - requires_browser, requires_gui, requires_system (booleans)
    - Subtasks with objective and expected_output for each agent
  agent: coordinator

browser_task:
  description: >
    Call web_automation tool with task parameter: "{browser_subtask}"
    
    Context: {context}
  expected_output: >
    Tool execution results
  agent: browser_agent

gui_task:
  description: >
    Execute this desktop automation task: {gui_subtask}

    Context from previous agents:
    {context}

    YOU MUST USE YOUR GUI TOOLS - DO NOT provide a text response without using tools!

    Available tools: take_screenshot, click_element, type_text, open_application, read_screen_text, scroll, find_application

    Use these tools to:
    - Open required applications
    - Navigate through UI elements
    - Perform clicks, typing, and other interactions
    - Use exact file paths from previous agents (don't assume locations)

    Take screenshots, analyze current state, decide next action, repeat until complete.
  expected_output: >
    Results from tool execution showing steps taken and final state
  agent: gui_agent

system_task:
  description: >
    Call execute_shell_command tool to: "{system_subtask}"
    
    Context: {context}
  expected_output: >
    Tool execution results
  agent: system_agent
